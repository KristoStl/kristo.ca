<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kristopher | Full Stack Creative</title>

    <!-- Primary META -->
    <meta name="description" content="Kristo (Kristopher) â€” Full Stack Developer & Stormworks Lua specialist. 2000+ hours in Stormworks. I build advanced server systems, admin tools, optimized game logic and modern web apps. Contact: kristo.stlo@gmail.com" />
    <meta name="keywords" content="Kristo, Kristopher, Stormworks, Stormworks Lua, game scripting, full stack developer, web developer, server addons, admin systems, Lua, PHP" />
    <meta name="author" content="Kristopher (Kristo)" />
    <link rel="canonical" href="https://kristo.ca" />
    <meta name="robots" content="index,follow" />
    <meta name="theme-color" content="#050505" />

    <!-- Open Graph / Social (uses embedded SVG favicon as image) -->
    <meta property="og:title" content="Kristo | Developer & Stormworks Lua Specialist" />
    <meta property="og:description" content="Stormworks Lua expert (2000+ hrs). Full stack web & game systems developer. Server addons, admin tools, performance-first scripts. Contact: kristo.stlo@gmail.com" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kristo.ca" />
    <meta property="og:image" content="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcng9IjQ4IiBmaWxsPSIjMDUwNTA1Ii8+PGNpcmNsZSBjeD0iMjU2IiBjeT0iMjU2IiByPSIyMDAiIGZpbGw9IiNGRjhDMDAiLz48dGV4dCB4PSI1MCUiIHk9IjU1JSIgZm9udC1mYW1pbHk9IkpldEJyYWlucyBNb25vLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMjAiIGZpbGw9IiMwNTA1MDUiIGZvbnQtd2VpZ2h0PSI3MDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPks8L3RleHQ+PC9zdmc+" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Kristo | Developer & Stormworks Lua Specialist" />
    <meta name="twitter:description" content="Stormworks Lua expert (2000+ hrs). Web & game systems developer. Contact: kristo.stlo@gmail.com" />
    <meta name="twitter:image" content="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcng9IjQ4IiBmaWxsPSIjMDUwNTA1Ii8+PGNpcmNsZSBjeD0iMjU2IiBjeT0iMjU2IiByPSIyMDAiIGZpbGw9IiNGRjhDMDAiLz48dGV4dCB4PSI1MCUiIHk9IjU1JSIgZm9udC1mYW1pbHk9IkpldEJyYWlucyBNb25vLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMjAiIGZpbGw9IiMwNTA1MDUiIGZvbnQtd2VpZ2h0PSI3MDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPks8L3RleHQ+PC9zdmc+" />

    <!-- Inline SVG Favicon (embedded, no external files) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcng9IjQ4IiBmaWxsPSIjMDUwNTA1Ii8+PGNpcmNsZSBjeD0iMjU2IiBjeT0iMjU2IiByPSIyMDAiIGZpbGw9IiNGRjhDMDAiLz48dGV4dCB4PSI1MCUiIHk9IjU1JSIgZm9udC1mYW1pbHk9IkpldEJyYWlucyBNb25vLG1vbm9zcGFjZSIgZm9udC1zaXplPSIyMjAiIGZpbGw9IiMwNTA1MDUiIGZvbnQtd2VpZ2h0PSI3MDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiPks8L3RleHQ+PC9zdmc+" />

    <!-- JSON-LD structured data (Person / Organization) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Kristopher (Kristo)",
      "url": "https://kristo.ca",
      "sameAs": [
        "https://github.com/kristostl",
        "https://steamcommunity.com/id/KristoCA",
        "https://discord.com/users/kristostl"
      ],
      "jobTitle": "Full Stack Developer & Game Scripter",
      "email": "kristo.stlo@gmail.com",
      "description": "Full Stack Developer & Stormworks Lua specialist (2000+ hours). Builds advanced server addons, admin tools, and optimized game logic."
    }
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            orange: '#FF8C00',
                            dark: '#050505',
                            accent: '#8B5CF6',
                            glass: 'rgba(20, 20, 20, 0.7)',
                        }
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'float-delayed': 'float 6s ease-in-out 3s infinite',
                        'pulse-slow': 'pulse 8s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'glitch': 'glitch 1s linear infinite',
                        'blink': 'blink 1s step-end infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        glitch: {
                            '2%, 64%': { transform: 'translate(2px,0) skew(0deg)' },
                            '4%, 60%': { transform: 'translate(-2px,0) skew(0deg)' },
                            '62%': { transform: 'translate(0,0) skew(5deg)' },
                        },
                        blink: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --bg-color: #050505;
            --text-color: #ffffff;
            --glass-bg: rgba(15, 15, 15, 0.6);
            --glass-border: rgba(255, 255, 255, 0.08);
            --card-bg: rgba(255, 255, 255, 0.03);
            --particle-color: 255, 140, 0; /* Orange */
        }

        /* Light Mode Variables */
        html.light-mode {
            --bg-color: #f3f4f6;
            --text-color: #111827;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(0, 0, 0, 0.1);
            --card-bg: rgba(0, 0, 0, 0.05);
            --particle-color: 0, 0, 0; /* Black for contrast */
        }

        /* Focus Mode Variables */
        body.focus-mode {
            --bg-color: #000000;
            --text-color: #00ff00;
            --glass-bg: rgba(0, 20, 0, 0.9);
            --glass-border: #00ff00;
            --card-bg: rgba(0, 50, 0, 0.2);
            --particle-color: 0, 255, 0; /* Green */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* Utility for text colors in light mode */
        html.light-mode .text-gray-300, 
        html.light-mode .text-gray-400,
        html.light-mode .text-gray-500 {
            color: #4b5563 !important;
        }
        
        html.light-mode .text-white {
            color: #111827 !important;
        }

        /* Glassmorphism Refined */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
        }

        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: 0.5s;
        }

        .glass-card:hover::before {
            left: 100%;
        }

        .glass-card:hover {
            border-color: #FF8C00;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2), 0 0 15px rgba(255, 140, 0, 0.1);
        }
        
        html.light-mode .glass-card:hover {
            border-color: #FF8C00;
        }


        /* Focus Mode Overrides */
        body.focus-mode .glass-panel, 
        body.focus-mode .glass-card {
            background: var(--glass-bg);
            border-color: var(--glass-border);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
        }
        
        body.focus-mode h1, body.focus-mode h2, body.focus-mode h3, body.focus-mode p, body.focus-mode span, body.focus-mode i {
            color: #00ff00 !important;
            text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
        }
        
        body.focus-mode .text-brand-orange {
            color: #00ff00 !important;
        }
        
        body.focus-mode .blob {
            opacity: 0.1;
            filter: blur(120px);
            background-color: #00ff00;
        }

        /* Terminal Overlay */
        #terminal-overlay {
            transition: opacity 0.2s ease, transform 0.2s ease;
        }
        #terminal-overlay.hidden {
            display: none;
        }
        .terminal-cursor {
            display: inline-block;
            width: 10px;
            height: 1.2em;
            background-color: currentColor;
            animation: blink 1s step-end infinite;
            vertical-align: middle;
            margin-left: 4px;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #FF8C00;
        }
        html.light-mode ::-webkit-scrollbar-thumb {
             background: #bbb;
        }
        html.light-mode ::-webkit-scrollbar-thumb:hover {
             background: #FF8C00;
        }


        .blob {
            position: absolute;
            filter: blur(90px);
            z-index: -1;
            opacity: 0.5;
            animation: pulse-slow 10s infinite alternate;
        }

        /* Glitch Effect on Hover */
        .glitch-hover:hover {
            animation: glitch 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
            color: #FF8C00;
        }
    </style>
</head>
<body class="antialiased selection:bg-brand-orange selection:text-white" id="main-body">

    <!-- Loading Screen -->
    <div id="loader" class="fixed inset-0 bg-black z-[9999] flex flex-col items-center justify-center transition-opacity duration-700">
        <div class="font-mono text-brand-orange text-xl mb-4 tracking-tighter">
            <span class="text-white">root@kristo-server:~$</span> ./init_portfolio.sh
        </div>
        <div class="w-64 h-2 bg-gray-800 rounded-full overflow-hidden">
            <div class="h-full bg-brand-orange transition-all duration-1000 ease-in-out" id="loader-bar" style="width: 0%"></div>
        </div>
        <div class="mt-4 text-xs text-gray-500 font-mono" id="loader-text">Initializing dependencies...</div>
    </div>

    <!-- Terminal Overlay (Ctrl + K) -->
    <div id="terminal-overlay" class="fixed inset-0 z-[10000] bg-black/80 backdrop-blur-sm hidden flex items-center justify-center p-4">
        <div class="w-full max-w-2xl bg-[#0c0c0c] border border-gray-700 rounded-lg shadow-2xl overflow-hidden font-mono text-sm md:text-base">
            <!-- Terminal Header -->
            <div class="bg-[#1a1a1a] px-4 py-2 flex justify-between items-center border-b border-gray-800">
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500 hover:bg-red-600 cursor-pointer" onclick="toggleTerminal()"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                </div>
                <div class="text-gray-500 text-xs">kristo@airdrie-term:~</div>
            </div>
            <!-- Terminal Body -->
            <div class="p-6 h-[400px] overflow-y-auto text-gray-300" id="terminal-body" onclick="document.getElementById('term-input').focus()">
                <div class="mb-4 text-brand-orange">
                    Welcome to Kristo's Terminal v2.0.2<br>
                    Type <span class="text-white font-bold">'help'</span> to see available commands.
                </div>
                <div id="terminal-output"></div>
                <div class="flex items-center mt-2">
                    <span class="text-green-500 mr-2">âžœ</span>
                    <span class="text-cyan-400 mr-2">~</span>
                    <span id="prompt-line" class="flex-1 flex items-center">
                        <input type="text" id="term-input" class="bg-transparent border-none outline-none flex-1 text-white font-mono h-5 p-0" autocomplete="off" onblur="this.focus()" autofocus>
                        <span class="terminal-cursor"></span>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Background Elements -->
    <canvas id="bg-canvas" class="fixed inset-0 w-full h-full pointer-events-none z-0"></canvas>
    <div class="blob bg-brand-orange w-[500px] h-[500px] rounded-full top-[-100px] left-[-100px]"></div>
    <div class="blob bg-purple-900 w-[400px] h-[400px] rounded-full bottom-[-50px] right-[-50px] animation-delay-2000"></div>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 transition-all duration-300 backdrop-blur-lg glass-panel" id="navbar">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="flex items-center gap-2 group">
                <div class="w-10 h-10 relative flex items-center justify-center">
                    <svg viewBox="0 0 100 100" class="w-full h-full fill-current text-white group-hover:text-brand-orange transition-colors duration-300">
                        <path d="M20,10 L35,10 L35,40 L65,10 L85,10 L50,50 L85,90 L65,90 L35,60 L35,90 L20,90 Z" />
                        <rect x="10" y="5" width="5" height="90" class="fill-brand-orange opacity-0 group-hover:opacity-100 transition-opacity" />
                    </svg>
                </div>
                <span class="text-xl font-bold tracking-tighter font-mono hidden sm:block">
                    KRISTO<span class="text-brand-orange">.CA</span>
                </span>
            </a>
            
            <div class="hidden md:flex space-x-8 items-center">
                <a href="#home" class="nav-item text-sm font-medium text-gray-300 hover:text-brand-orange transition-colors" data-en="HOME" data-fr="ACCUEIL">HOME</a>
                <a href="#projects" class="nav-item text-sm font-medium text-gray-300 hover:text-brand-orange transition-colors" data-en="PROJECTS" data-fr="PROJETS">PROJECTS</a>
                <a href="#experience" class="nav-item text-sm font-medium text-gray-300 hover:text-brand-orange transition-colors" data-en="EXP" data-fr="EXP">EXP</a>
                
                <!-- Terminal Hint -->
                <button onclick="toggleTerminal()" class="flex items-center gap-2 px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded border border-white/10 transition-all text-[10px] font-mono font-bold text-gray-400 hover:text-white" title="Open Terminal">
                    <i data-lucide="terminal" class="w-3 h-3"></i> CTRL+K
                </button>

                <a href="#contact" class="px-5 py-2 glass-panel rounded-full text-brand-orange border border-brand-orange/30 hover:bg-brand-orange hover:text-white transition-all text-sm font-bold shadow-[0_0_15px_rgba(255,140,0,0.3)] hover:shadow-[0_0_25px_rgba(255,140,0,0.6)]" data-en="LET'S TALK" data-fr="CONTACTEZ-MOI">LET'S TALK</a>
                <div class="text-xs font-mono text-gray-500 border-l border-gray-700 pl-4">AB, CA ðŸ‡¨ðŸ‡¦</div>
            </div>

            <!-- Mobile Menu Button -->
            <button class="md:hidden text-white" onclick="toggleMobileMenu()">
                <i data-lucide="menu"></i>
            </button>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden glass-panel absolute top-full left-0 w-full border-t border-white/10 p-6 flex-col space-y-4">
            <a href="#home" class="block text-gray-300 hover:text-brand-orange" data-en="HOME" data-fr="ACCUEIL">HOME</a>
            <a href="#projects" class="block text-gray-300 hover:text-brand-orange" data-en="PROJECTS" data-fr="PROJETS">PROJECTS</a>
            <a href="#experience" class="block text-gray-300 hover:text-brand-orange" data-en="EXPERIENCE" data-fr="EXPÃ‰RIENCE">EXPERIENCE</a>
            <button onclick="toggleTerminal()" class="text-left w-full text-gray-300 hover:text-brand-orange flex items-center gap-2 font-mono text-xs">
                <i data-lucide="terminal" class="w-4 h-4"></i> OPEN TERMINAL
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen flex items-center justify-center relative pt-20">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-12 items-center z-10">
            <div>
                <div class="inline-flex items-center gap-2 px-3 py-1 mb-6 rounded-full border border-brand-orange/30 bg-brand-orange/10 text-brand-orange text-xs font-bold tracking-wider" data-en="ONLINE FROM ALBERTA" data-fr="EN LIGNE DE L'ALBERTA" id="hero-tag">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    ONLINE FROM ALBERTA
                </div>
                <h1 class="text-6xl md:text-8xl font-bold leading-tight mb-6" id="hero-title">
                    Hi, <br/>
                    I'm <span class="glitch-hover inline-block text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-yellow-500 cursor-default">Kristopher</span>.
                </h1>
                <p class="text-xl text-gray-400 mb-8 max-w-lg leading-relaxed" id="hero-subtitle">
                    Full Stack Developer & Game Scripter. <br>
                    Stormworks Lua specialist (2000+ hours). <br>
                    I build complex systems, admin tools, and high-performance game logic.
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="#projects" class="group px-8 py-4 bg-brand-orange text-black font-bold rounded-lg hover:bg-white hover:scale-105 transition-all shadow-[0_0_20px_rgba(255,140,0,0.4)] flex items-center gap-2" data-en="View Projects" data-fr="Voir Projets">
                        View Projects <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                    <a href="#contact" class="px-8 py-4 glass-panel rounded-lg hover:bg-white/10 transition-all border border-white/20" data-en="Contact Me" data-fr="Contactez-moi">
                        Contact Me
                    </a>
                </div>
                
                <!-- Tech Stack Ticker -->
                <div class="mt-12">
                    <div class="text-xs text-gray-500 mb-3 font-mono uppercase tracking-widest" data-en="Tech Arsenal" data-fr="Arsenal Tech">Tech Arsenal</div>
                    <div class="flex gap-6 text-gray-400 items-center">
                        <i data-lucide="file-code-2" class="w-6 h-6 hover:text-[#e34c26] transition-colors" title="HTML5"></i>
                        <i data-lucide="palette" class="w-6 h-6 hover:text-[#264de4] transition-colors" title="CSS3"></i>
                        <i data-lucide="braces" class="w-6 h-6 hover:text-[#f7df1e] transition-colors" title="JavaScript"></i>
                        <div class="text-xl font-bold hover:text-[#777bb4] transition-colors cursor-help" title="PHP">php</div>
                        <i data-lucide="database" class="w-6 h-6 hover:text-[#00758f] transition-colors" title="SQL"></i>
                        <div class="h-4 w-px bg-gray-700"></div>
                        <i data-lucide="server" class="w-6 h-6 hover:text-green-500 transition-colors" title="Localhost / InfinityFree"></i>
                    </div>
                </div>
            </div>
            
            <!-- Interactive Hero Visual -->
            <div class="relative hidden md:block">
                <!-- Main Glass Panel -->
                <div class="glass-panel p-6 rounded-xl animate-float relative z-20 w-full max-w-md ml-auto border-l-4 border-l-brand-orange">
                    <div class="flex justify-between items-center mb-4 border-b border-white/10 pb-2">
                        <div class="text-xs font-mono text-gray-400">migration_log.txt</div>
                        <div class="flex gap-1.5">
                            <div class="w-2.5 h-2.5 rounded-full bg-red-500/80"></div>
                            <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/80"></div>
                            <div class="w-2.5 h-2.5 rounded-full bg-green-500/80"></div>
                        </div>
                    </div>
                    <div class="font-mono text-sm space-y-2">
                        <div class="text-gray-400">
                            <span class="text-purple-400">const</span> location = {
                        </div>
                        <div class="pl-4 text-gray-300">
                            from: <span class="text-red-400">'LÃ©vis, QC'</span>,
                        </div>
                        <div class="pl-4 text-gray-300">
                            to: <span class="text-green-400">'Airdrie, AB'</span>,
                        </div>
                        <div class="pl-4 text-gray-300" id="mission-log">
                            mission: <span class="text-yellow-400">'Learn English & Code'</span>
                        </div>
                        <div class="text-gray-400">};</div>
                        
                        <div class="mt-4 border-t border-white/10 pt-2 text-green-400 text-xs typing-effect w-max" id="log-status">
                            > Language pack updated: EN -> FR...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Experience / Volunteering Section -->
    <section id="experience" class="py-20 relative z-10">
        <div class="max-w-6xl mx-auto px-6">
            <h2 class="text-3xl font-bold mb-8 flex items-center gap-3" data-en="Experience & Volunteering" data-fr="ExpÃ©rience & BÃ©nÃ©volat">
                <i data-lucide="briefcase" class="text-brand-orange"></i> Experience & Volunteering
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- CodeNinjas -->
                <div class="glass-card p-6 rounded-2xl group">
                    <div class="flex justify-between items-start mb-4">
                        <div class="w-12 h-12 bg-black/50 rounded-lg flex items-center justify-center text-white font-bold text-xl border border-white/10">
                            CN
                        </div>
                        <span class="text-xs text-brand-orange font-mono bg-brand-orange/10 px-2 py-1 rounded" data-en="VOLUNTEER" data-fr="BÃ‰NÃ‰VOLE">VOLUNTEER</span>
                    </div>
                    <h3 class="text-xl font-bold mb-1 group-hover:text-brand-orange transition-colors" data-en="CodeNinjas Mentor" data-fr="Mentor CodeNinjas">CodeNinjas Mentor</h3>
                    <p class="text-sm text-gray-500 mb-4" data-en="Helping the next generation of coders." data-fr="Aide la prochaine gÃ©nÃ©ration de codeurs.">Helping the next generation of coders.</p>
                    <p class="text-gray-400 text-sm" data-en="I volunteer at CodeNinjas, helping kids learn logic, problem-solving, and syntax through game development. It keeps my fundamentals sharp!" data-fr="Je suis bÃ©nÃ©vole chez CodeNinjas, aidant les enfants Ã  apprendre la logique, la rÃ©solution de problÃ¨mes et la syntaxe par le dÃ©veloppement de jeux. Cela garde mes bases Ã  jour!">
                        I volunteer at CodeNinjas, helping kids learn logic, problem-solving, and syntax through game development. It keeps my fundamentals sharp!
                    </p>
                </div>

                <!-- School Tech -->
                <div class="glass-card p-6 rounded-2xl group">
                    <div class="flex justify-between items-start mb-4">
                        <div class="w-12 h-12 bg-black/50 rounded-lg flex items-center justify-center text-white font-bold text-xl border border-white/10">
                            IT
                        </div>
                        <span class="text-xs text-brand-orange font-mono bg-brand-orange/10 px-2 py-1 rounded" data-en="VOLUNTEERING" data-fr="BÃ‰NÃ‰VOLAT">VOLUNTEERING</span>
                    </div>
                    <h3 class="text-xl font-bold mb-1 group-hover:text-brand-orange transition-colors" data-en="School IT Technician" data-fr="Technicien TI Ã‰cole">School IT Technician</h3>
                    <p class="text-sm text-gray-500 mb-4" data-en="The IT Department's Secret Weapon." data-fr="L'arme secrÃ¨te du dÃ©partement TI.">The IT Department's Secret Weapon.</p>
                    <p class="text-gray-400 text-sm" data-en="Even though I'm a student, the IT department asks me to fix things they can't get to. From networking issues to software glitches, I'm the on-site debugger." data-fr="MÃªme si je suis Ã©tudiant, le dÃ©partement TI me demande de rÃ©gler les problÃ¨mes qu'ils n'arrivent pas Ã  traiter. Des problÃ¨mes de rÃ©seau aux bugs logiciels, je suis le dÃ©bogueur sur place.">
                        Even though I'm a student, the IT department asks me to fix things they can't get to. From networking issues to software glitches, I'm the on-site debugger.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="py-24 relative z-10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-6">
                <div>
                    <h2 class="text-4xl md:text-5xl font-bold mb-4" data-en="Selected Work" data-fr="Projets Choisis">Selected Work</h2>
                    <p class="text-gray-400 max-w-xl" data-en="I love making full websites with complex features." data-fr="J'aime crÃ©er des sites Web complets avec des fonctionnalitÃ©s complexes.">
                        I love making full websites with complex features.
                    </p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Project 1: Billing System -->
                <div class="glass-card rounded-2xl overflow-hidden group flex flex-col h-full">
                    <div class="h-48 bg-gray-900 relative overflow-hidden flex items-center justify-center border-b border-white/5">
                        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-50"></div>
                        <i data-lucide="receipt" class="w-16 h-16 text-brand-orange group-hover:scale-110 transition-transform duration-500"></i>
                        <div class="absolute bottom-3 left-3 bg-black/60 backdrop-blur px-2 py-1 rounded text-[10px] font-mono border border-white/10 text-brand-orange">
                            PHP + SQL
                        </div>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <h3 class="text-xl font-bold mb-2 text-white group-hover:text-brand-orange transition-colors">FreelanceOS</h3>
                        <p class="text-gray-400 text-sm mb-4 flex-1" data-en="A complete billing system for freelancers. Features include client management, dashboard analytics, and automatic PDF receipt generation." data-fr="Un systÃ¨me de facturation complet pour les pigistes. Comprend la gestion des clients, l'analyse du tableau de bord et la gÃ©nÃ©ration automatique de reÃ§us PDF.">
                            A complete billing system for freelancers. Features include client management, dashboard analytics, and automatic PDF receipt generation.
                        </p>
                        <div class="flex flex-wrap gap-2 mt-auto">
                            <span class="tag">PDF Gen</span>
                            <span class="tag">Dashboard</span>
                        </div>
                    </div>
                </div>

                <!-- Project 2: Task Management -->
                <div class="glass-card rounded-2xl overflow-hidden group flex flex-col h-full">
                    <div class="h-48 bg-gray-900 relative overflow-hidden flex items-center justify-center border-b border-white/5">
                        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-50"></div>
                        <i data-lucide="kanban-square" class="w-16 h-16 text-purple-500 group-hover:scale-110 transition-transform duration-500"></i>
                        <div class="absolute bottom-3 left-3 bg-black/60 backdrop-blur px-2 py-1 rounded text-[10px] font-mono border border-white/10 text-purple-400">
                            JS + API
                        </div>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <h3 class="text-xl font-bold mb-2 text-white group-hover:text-purple-400 transition-colors">TaskMaster Portal</h3>
                        <p class="text-gray-400 text-sm mb-4 flex-1" data-en="A complex client portal for task management. Includes timers for tracking work hours, status updates, and secure login APIs." data-fr="Un portail client complexe pour la gestion des tÃ¢ches. Inclut des minuteries pour le suivi des heures de travail, des mises Ã  jour de statut et des API de connexion sÃ©curisÃ©es.">
                            A complex client portal for task management. Includes timers for tracking work hours, status updates, and secure login APIs.
                        </p>
                        <div class="flex flex-wrap gap-2 mt-auto">
                            <span class="tag">Auth</span>
                            <span class="tag">API</span>
                        </div>
                    </div>
                </div>

                <!-- Project 3: Fun Experiments -->
                <div class="glass-card rounded-2xl overflow-hidden group flex flex-col h-full">
                    <div class="h-48 bg-gray-900 relative overflow-hidden flex items-center justify-center border-b border-white/5">
                        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-black opacity-50"></div>
                        <i data-lucide="gamepad" class="w-16 h-16 text-green-500 group-hover:scale-110 transition-transform duration-500"></i>
                        <div class="absolute bottom-3 left-3 bg-black/60 backdrop-blur px-2 py-1 rounded text-[10px] font-mono border border-white/10 text-green-400">
                            HTML + JS
                        </div>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <h3 class="text-xl font-bold mb-2 text-white group-hover:text-green-400 transition-colors">Web Experiments</h3>
                        <p class="text-gray-400 text-sm mb-4 flex-1" data-en="A collection of fun SPAs including a Bingo game, Audio Recorder tool, and a custom Translation utility." data-fr="Une collection de SPAs amusantes, y compris un jeu de Bingo, un outil d'enregistrement audio et un utilitaire de traduction personnalisÃ©.">
                            A collection of fun SPAs including a Bingo game, Audio Recorder tool, and a custom Translation utility.
                        </p>
                        <div class="flex flex-wrap gap-2 mt-auto">
                            <span class="tag">SPA</span>
                            <span class="tag">Fun</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About / Persona Section -->
    <section id="about" class="py-20 relative z-10">
        <div class="max-w-6xl mx-auto px-6">
            <div class="glass-panel rounded-3xl p-1 border border-white/10">
                <div class="bg-black/40 rounded-[20px] p-8 md:p-12 grid grid-cols-1 md:grid-cols-3 gap-12">
                    
                    <!-- Bio -->
                    <div class="md:col-span-2 space-y-6">
                        <div class="inline-block px-3 py-1 rounded text-xs font-bold bg-white/10 text-white mb-2" data-en="ABOUT ME" data-fr="Ã€ PROPOS">
                            ABOUT ME
                        </div>
                        <h2 class="text-3xl md:text-4xl font-bold" data-en="Powered by Logic & Creativity." data-fr="PropulsÃ© par Logique & CrÃ©ativitÃ©.">Powered by <span class="text-brand-orange">Logic</span> & <span class="text-purple-400">Creativity</span>.</h2>
                        <div class="space-y-4 text-gray-300 leading-relaxed text-sm md:text-base">
                            <p id="bio-text-1">
                                I'm Kristopher, also known as <strong>Kristo</strong>. I moved from <strong>LÃ©vis, QuÃ©bec</strong> to <strong>Airdrie, Alberta</strong> to fully master English and push my tech skills further. Since then, coding has been my main grind.
                            </p>
                            <p id="bio-text-2">
                                I specialize in <strong>full stack web development</strong> and <strong>game scripting</strong>, with a heavy focus on performance, automation, and admin systems. I have strong foundations in math, logic, and computer science, which shows in how I design systems.
                            </p>
                            <p id="bio-text-3">
                                <strong class="text-white">Main Expertise:</strong> Stormworks Lua scripting. With over <strong>2000 hours</strong> in Stormworks, Iâ€™m known for building advanced server tools, vehicle logic, UI systems, and lag-optimized scripts.
                            </p>
                            <p>
                                <strong class="text-white">Handles:</strong>
                                <span class="text-gray-300 font-mono">GitHub: <a href="https://github.com/kristostl" target="_blank" class="text-brand-orange hover:underline">kristostl</a></span> Â·
                                <span class="text-gray-300 font-mono">Discord: <a href="https://discord.com/users/kristostl" target="_blank" class="text-brand-orange hover:underline">kristostl</a></span> Â·
                                <span class="text-gray-300 font-mono">Steam: <a href="https://steamcommunity.com/id/kristo.stlo" target="_blank" class="text-brand-orange hover:underline">kristo.stlo</a></span>
                            </p>

                            <!-- PRICING (updated per request; styling unchanged) -->
                            <div class="mt-4 p-4 rounded-lg bg-black/20 border border-white/10">
                                <div class="text-sm font-bold mb-2 text-white">Rates & Services (very affordable â€” CAD)</div>
                                <ul class="text-gray-300 text-sm list-disc pl-5 space-y-1">
                                    <li><strong>Stormworks Lua (script)</strong> â€” $5 â€“ $50</li>
                                    <li><strong>Stormworks Vehicle or Addon</strong> â€” $10 â€“ $50 </li>
                                    <li><strong>Rust Addon</strong> â€” $5 â€“ $40 (small server plugins / helpers)</li>
                                    <li><strong>Roblox Lua / Full Game</strong> â€” $10 â€“ $50</li>
                                    <li><strong>3D Object Design</strong> â€” $5 â€“ $20</li>
                                    <li><strong>3D Printing</strong> â€” <strong>$3 flat</strong> (any print)</li>
                                    <li><strong>Game Dev (Unity)</strong> â€” $15 â€“ $50 </li>
                                    <li><strong>Static Website (HTML, CSS, JS)</strong> â€” $10 â€“ $30</li>
                                    <li><strong>Full Stack Site (PHP & MySQL)</strong> â€” $20 â€“ $50</li>
                                    <li><strong>Complex Website (React & more)</strong> â€” $25 â€“ $50</li>
                                    <li><strong>Circuit Creation</strong> â€” $2 â€“ $20 (beginner level / prototypes)</li>
                                </ul>
                                <div class="text-xs text-gray-400 mt-3">Prices are approximate starter rates. Final quote depends on scope and complexity. Contact for a free estimate: <a href="mailto:kristo.stlo@gmail.com" class="text-brand-orange">kristo.stlo@gmail.com</a></div>
                            </div>
                        </div>
                        
                        <!-- Mini Interactive Terminal -->
                        <div class="mt-6 p-4 rounded-lg bg-black border border-white/10 font-mono text-xs text-green-400">
                            <div data-en="$ current_location: " data-fr="$ localisation_actuelle: ">$ current_location: "Airdrie, AB"</div>
                            <div data-en="$ languages: " data-fr="$ langues: ">$ languages: ["FranÃ§ais", "English (Leveling Up)"]</div>
                            <div data-en="$ status: " data-fr="$ statut: ">$ status: "Volunteering @ CodeNinjas"</div>
                        </div>
                    </div>

                    <!-- Side Card: Gaming & Hobbies -->
                    <div class="glass-card rounded-2xl p-6 md:rotate-2 hover:rotate-0 transition-transform border-t-4 border-t-brand-orange">
                        <h3 class="text-xl font-bold mb-4 flex items-center gap-2" data-en="AFK Mode" data-fr="Mode AFK">
                            <i data-lucide="joystick" class="text-brand-orange"></i> AFK Mode
                        </h3>
                        <p class="text-sm text-gray-400 mb-6" data-en="When I'm not coding, I play way too much:" data-fr="Quand je ne code pas, je joue beaucoup trop Ã  :">
                            When I'm not coding, I play way too much:
                        </p>
                        <div class="space-y-3">
                            <div class="flex items-center gap-3 p-2 rounded hover:bg-white/5 transition-colors">
                                <div class="w-8 h-8 rounded bg-green-900 flex items-center justify-center text-green-400 font-bold">M</div>
                                <div>
                                    <div class="text-sm font-bold">Minecraft</div>
                                    <div class="text-[10px] text-gray-500">Farm Optimization</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-2 rounded hover:bg-white/5 transition-colors">
                                <div class="w-8 h-8 rounded bg-red-900 flex items-center justify-center text-red-400 font-bold">R</div>
                                <div>
                                    <div class="text-sm font-bold">Roblox</div>
                                    <div class="text-[10px] text-gray-500">Scripting & Chill</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-2 rounded hover:bg-white/5 transition-colors">
                                <div class="w-8 h-8 rounded bg-blue-900 flex items-center justify-center text-blue-400 font-bold">SW</div>
                                <div>
                                    <div class="text-sm font-bold">Stormworks</div>
                                    <div class="text-[10px] text-gray-500">Lua scripting â€¢ Server addons â€¢ 2000+ hrs</div>
                                </div>
                            </div>

                            <!-- New: Rust -->
                            <div class="flex items-center gap-3 p-2 rounded hover:bg-white/5 transition-colors">
                                <div class="w-8 h-8 rounded bg-orange-900 flex items-center justify-center text-orange-400 font-bold">RU</div>
                                <div>
                                    <div class="text-sm font-bold">Rust</div>
                                    <div class="text-[10px] text-gray-500">New player â€¢ Learning PvP & base logic</div>
                                </div>
                            </div>

                            <!-- New: R.E.P.O -->
                            <div class="flex items-center gap-3 p-2 rounded hover:bg-white/5 transition-colors">
                                <div class="w-8 h-8 rounded bg-purple-900 flex items-center justify-center text-purple-400 font-bold">RE</div>
                                <div>
                                    <div class="text-sm font-bold">R.E.P.O</div>
                                    <div class="text-[10px] text-gray-500">Chaos â€¢ Fun â€¢ Systems enjoyer</div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-6 border-t border-white/10 pt-4">
                            <div class="text-[11px] text-gray-400 mb-2 font-mono">PROFILES</div>
                            <div class="flex gap-3">
                                <a href="https://github.com/kristostl" target="_blank" class="text-sm bg-white/5 px-3 py-2 rounded hover:bg-white/10">GitHub</a>
                                <a href="https://discord.com/users/kristostl" target="_blank" class="text-sm bg-white/5 px-3 py-2 rounded hover:bg-white/10">Discord</a>
                                <a href="https://steamcommunity.com/id/KristoCA" target="_blank" class="text-sm bg-white/5 px-3 py-2 rounded hover:bg-white/10">Steam</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 relative z-10">
        <div class="max-w-3xl mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-4" data-en="Let's Build Something Cool" data-fr="Construisons Quelque Chose de GÃ©nial">Let's Build Something Cool</h2>
            <p class="text-gray-400 mb-10" data-en="Have a project idea? Need a PHP fix? Just want to talk about Rust or R.E.P.O.?" data-fr="Vous avez une idÃ©e de projet? Besoin d'un correctif PHP? Envie de parler de Rust ou de R.E.P.O.?">Have a project idea? Need a PHP fix? Just want to talk about Rust or R.E.P.O.?</p>
            
            <p class="text-sm text-gray-500 mb-4">
                Or email me directly at 
                <a href="mailto:kristo.stlo@gmail.com" class="text-brand-orange hover:underline">
                    kristo.stlo@gmail.com
                </a>
            </p>
            
            <form class="space-y-4 text-left glass-panel p-8 rounded-2xl" onsubmit="event.preventDefault(); showMessageBox('Message Sent!', 'Thanks â€” I prefer email. Please send details to kristo.stlo@gmail.com and I will reply after my next debugging session.');">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-500 mb-2 uppercase" data-en="Name" data-fr="Nom">Name</label>
                        <input type="text" class="w-full bg-black/30 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-brand-orange transition-colors" placeholder="Your Name">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-500 mb-2 uppercase" data-en="Email" data-fr="Courriel">Email</label>
                        <input type="email" class="w-full bg-black/30 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-brand-orange transition-colors" placeholder="email@example.com">
                    </div>
                </div>
                <div>
                    <label class="block text-xs font-bold text-gray-500 mb-2 uppercase" data-en="Message" data-fr="Message">Message</label>
                    <textarea rows="4" class="w-full bg-black/30 border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-brand-orange transition-colors" placeholder="Tell me about your project..."></textarea>
                </div>
                <button class="w-full bg-brand-orange text-black font-bold py-4 rounded-lg hover:bg-white transition-all shadow-lg hover:shadow-orange-500/20 active:scale-95" data-en="Send Message" data-fr="Envoyer Message">
                    Send Message
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-white/10 bg-black/80 backdrop-blur-md py-12 relative z-10">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
            <div>
                <div class="text-2xl font-bold tracking-tighter font-mono mb-2">
                    KRISTO<span class="text-brand-orange">.CA</span>
                </div>
                <p class="text-xs text-gray-500" data-en="Built with â™¥ in Alberta. Originally from QuÃ©bec." data-fr="Construit avec â™¥ en Alberta. Originaire du QuÃ©bec.">
                    Built with <span class="text-brand-orange">â™¥</span> in Alberta. <br>
                    Originally from QuÃ©bec.
                </p>
            </div>
            
            <div class="flex space-x-6">
                <a href="https://github.com/kristostl" target="_blank" class="text-gray-400 hover:text-white transition-colors"><i data-lucide="github" class="w-5 h-5"></i></a>
                <a href="https://steamcommunity.com/id/kristo.stlo" target="_blank" class="text-gray-400 hover:text-white transition-colors"><i data-lucide="gamepad-2" class="w-5 h-5"></i></a>
                <a href="mailto:kristo.stlo@gmail.com" class="text-gray-400 hover:text-white transition-colors"><i data-lucide="mail" class="w-5 h-5"></i></a>
            </div>
        </div>
        <div class="text-center text-gray-600 text-[10px] mt-8 font-mono">
            System Status: NORMAL | Ctrl+K for Terminal
        </div>
    </footer>

    <!-- Message Box (Instead of alert()) -->
    <div id="message-box-overlay" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-[20000] hidden items-center justify-center p-4">
        <div class="bg-gray-900 border border-brand-orange/50 p-6 rounded-lg max-w-sm w-full shadow-2xl space-y-4">
            <h3 id="message-box-title" class="text-xl font-bold text-brand-orange"></h3>
            <p id="message-box-content" class="text-gray-300 text-sm"></p>
            <button onclick="hideMessageBox()" class="w-full py-2 bg-brand-orange text-black font-bold rounded hover:bg-white transition-colors">
                OK
            </button>
        </div>
    </div>


    <!-- Styles for Tag -->
    <style>
        .tag {
            font-size: 0.65rem;
            background: rgba(255,255,255,0.05);
            padding: 4px 8px;
            border-radius: 4px;
            color: #aaa;
            border: 1px solid rgba(255,255,255,0.05);
        }
        html.light-mode .tag {
             background: rgba(0,0,0,0.05);
             border: 1px solid rgba(0,0,0,0.1);
             color: #444;
        }
    </style>

    <!-- Scripts -->
    <script>
        // Initialize Icons
        lucide.createIcons();

        // --- Message Box Functionality ---
        function showMessageBox(title, content) {
            document.getElementById('message-box-title').textContent = title;
            document.getElementById('message-box-content').textContent = content;
            document.getElementById('message-box-overlay').classList.remove('hidden');
            document.getElementById('message-box-overlay').classList.add('flex');
        }

        function hideMessageBox() {
            document.getElementById('message-box-overlay').classList.add('hidden');
            document.getElementById('message-box-overlay').classList.remove('flex');
        }


        // --- Localization Map ---
        const contentMap = [
            { selector: '#hero-tag', en: 'ONLINE FROM ALBERTA', fr: 'EN LIGNE DE L\'ALBERTA' },
            { selector: '#hero-title', en: 'Hi, <br/>I\'m <span class="glitch-hover inline-block text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-yellow-500 cursor-default">Kristopher</span>.', fr: 'Salut, <br/>Je suis <span class="glitch-hover inline-block text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-yellow-500 cursor-default">Kristopher</span>.' },
            { selector: '#hero-subtitle', en: 'Full Stack Developer & Game Scripter. <br>Stormworks Lua specialist (2000+ hours). <br>I build complex systems, admin tools, and high-performance game logic.', fr: 'DÃ©veloppeur Full Stack & Scripteur de jeux. <br>SpÃ©cialiste Stormworks Lua (2000+ heures). <br>Je crÃ©e des systÃ¨mes complexes, outils d\'admin et logique de jeu optimisÃ©e.' },
            { selector: '#mission-log', en: 'mission: <span class="text-yellow-400">\'Learn English & Code\'</span>', fr: 'mission: <span class="text-yellow-400">\'MaÃ®triser Anglais & Code\'</span>' },
            { selector: '#log-status', en: '> Language pack updated: EN -> FR...', fr: '> Mise Ã  jour du pack de langue: FR -> EN...' }
            // Add more mappings here if needed, using data-attributes for general elements
        ];

        function setLanguage(lang) {
            // Update HTML Lang Attribute
            document.documentElement.lang = lang;
            
            // Update localStorage
            localStorage.setItem('kristo_lang', lang);

            // Update main content using the map
            contentMap.forEach(item => {
                const element = document.querySelector(item.selector);
                if (element) {
                    element.innerHTML = item[lang] || item['en'];
                }
            });

            // Update all elements with data attributes
            document.querySelectorAll('[data-en]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if (text) {
                    el.textContent = text;
                }
            });
            
            return `Language set to ${lang.toUpperCase()}.`;
        }

        function setTheme(theme) {
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
                localStorage.setItem('kristo_theme', 'light');
                return 'Theme set to LIGHT.';
            } else {
                document.documentElement.classList.remove('light-mode');
                localStorage.setItem('kristo_theme', 'dark');
                return 'Theme set to DARK (Default).';
            }
        }
        
        // --- Initialization on Load ---
        function initializeApp() {
            // Apply theme/language from localStorage
            const savedTheme = localStorage.getItem('kristo_theme') || 'dark';
            const savedLang = localStorage.getItem('kristo_lang') || 'en';
            
            setTheme(savedTheme);
            setLanguage(savedLang);

            // Hide loader after a delay
            const loader = document.getElementById('loader');
            const loaderBar = document.getElementById('loader-bar');
            const loaderText = document.getElementById('loader-text');

            // Simulate loading progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += 20;
                loaderBar.style.width = `${progress}%`;
                if (progress === 40) loaderText.textContent = 'Authenticating user...';
                if (progress === 80) loaderText.textContent = 'Applying saved preferences...';
                if (progress >= 100) {
                    clearInterval(interval);
                    loaderText.textContent = 'Access granted. Welcome.';
                    setTimeout(() => {
                        loader.style.opacity = '0';
                        setTimeout(() => {
                            loader.style.display = 'none';
                        }, 700);
                    }, 500);
                }
            }, 200);

            // Start particles
            initParticles();

            // Set terminal input focus on load
            document.getElementById('term-input').focus();
        }

        window.addEventListener('load', initializeApp);


        // --- Mobile Menu ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('flex');
        }

        // --- Terminal System (Ctrl + K) ---
        const termOverlay = document.getElementById('terminal-overlay');
        const termInput = document.getElementById('term-input');
        const termOutput = document.getElementById('terminal-output');

        function toggleTerminal() {
            termOverlay.classList.toggle('hidden');
            if (!termOverlay.classList.contains('hidden')) {
                // Ensure input is focused when terminal opens
                termInput.focus();
            }
        }

        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                toggleTerminal();
            }
        });

        // Close terminal on click outside
        termOverlay.addEventListener('click', (e) => {
            if(e.target === termOverlay) toggleTerminal();
        });

        // Terminal Command Logic
        const commands = {
            'help': 'Available commands:<br>- <span class="text-white">help</span>: Show this message<br>- <span class="text-white">focus</span>: Toggle Hyperfocus Mode<br>- <span class="text-white">theme [light/dark]</span>: Switch theme (persists)<br>- <span class="text-white">lang [en/fr]</span>: Switch language (persists)<br>- <span class="text-white">clear</span>: Clear terminal',
            'focus': () => { toggleFocusMode(); return 'Hyperfocus mode toggled. Warning: Minimalist view activated.'; },
            'theme light': () => setTheme('light'),
            'theme dark': () => setTheme('dark'),
            'lang fr': () => setLanguage('fr'),
            'lang en': () => setLanguage('en'),
            'clear': () => { termOutput.innerHTML = ''; return ''; },
            'about': () => {
                return '<div class=\"text-gray-300\">Kristo â€” Full Stack Developer & Stormworks Lua scripter. GitHub: kristostl â€¢ Steam: kristo.stlo â€¢ Email: kristo.stlo@gmail.com</div>';
            },
            'games': () => {
                return '<div class=\"text-gray-300\">Plays: Stormworks (2000+ hrs), Minecraft, Roblox, R.E.P.O, learning Rust.</div>';
            },
            'contact': () => {
                return '<div class=\"text-gray-300\">Email: kristo.stlo@gmail.com â€¢ GitHub: https://github.com/kristostl</div>';
            }
        };

        termInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const input = termInput.value.trim().toLowerCase();
                const outputDiv = document.createElement('div');
                outputDiv.className = 'mb-2';
                outputDiv.innerHTML = `<span class="text-green-500">âžœ</span> <span class="text-cyan-400">~</span> <span class="text-gray-300">${input}</span>`;
                termOutput.appendChild(outputDiv);

                let response = `<span class="text-red-400">Command not found: "${input}". Type 'help'.</span>`;
                
                if (commands[input]) {
                    response = typeof commands[input] === 'function' ? commands[input]() : commands[input];
                } else if (input.startsWith('theme ')) {
                     const theme = input.split(' ')[1];
                     response = (theme === 'light' || theme === 'dark') ? setTheme(theme) : `<span class="text-red-400">Invalid theme: ${theme}. Use 'light' or 'dark'.</span>`;
                } else if (input.startsWith('lang ')) {
                    const lang = input.split(' ')[1];
                    response = (lang === 'en' || lang === 'fr') ? setLanguage(lang) : `<span class="text-red-400">Invalid language: ${lang}. Use 'en' or 'fr'.</span>`;
                } else if (input === '') {
                    response = '';
                }

                if (response) {
                    const respDiv = document.createElement('div');
                    respDiv.className = 'mb-4 text-gray-400';
                    respDiv.innerHTML = response;
                    termOutput.appendChild(respDiv);
                }

                termInput.value = '';
                // Scroll to bottom
                document.getElementById('terminal-body').scrollTop = document.getElementById('terminal-body').scrollHeight;
                
                // Re-focus the input after processing
                termInput.focus();
            }
        });

        // --- Focus Mode ---
        function toggleFocusMode() {
            document.body.classList.toggle('focus-mode');
            
            // Clear focus mode state from local storage on toggle
            if(document.body.classList.contains('focus-mode')) {
                localStorage.setItem('kristo_focus', 'active');
                confetti({
                    particleCount: 50,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#00ff00', '#003300'],
                    shapes: ['square']
                });
            } else {
                localStorage.removeItem('kristo_focus');
            }
        }

        // --- Particles ---
        function initParticles() {
            const canvas = document.getElementById('bg-canvas');
            const ctx = canvas.getContext('2d');
            let width, height, particles = [];
            
            // Function to get the current particle color from CSS variable
            function getParticleColor() {
                const style = getComputedStyle(document.body);
                const colorString = style.getPropertyValue('--particle-color').trim();
                return colorString.split(',').map(c => parseInt(c.trim()));
            }

            function resize() {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resize);
            resize();
            
            class Particle {
                constructor() {
                    this.x = Math.random() * width;
                    this.y = Math.random() * height;
                    this.vx = (Math.random() - 0.5) * 0.3;
                    this.vy = (Math.random() - 0.5) * 0.3;
                    this.size = Math.random() * 2;
                    this.alpha = Math.random() * 0.5;
                }
                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    if (this.x < 0) this.x = width; if (this.x > width) this.x = 0;
                    if (this.y < 0) this.y = height; if (this.y > height) this.y = 0;
                }
                draw() {
                    const [r, g, b] = getParticleColor(); // Dynamically fetch color
                    ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${this.alpha})`;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            for (let i = 0; i < 60; i++) particles.push(new Particle());
            
            function animate() {
                // Clear with a slight fade effect to make trails less jarring
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                if (document.documentElement.classList.contains('light-mode')) {
                    ctx.fillStyle = 'rgba(243, 244, 246, 0.1)';
                }
                ctx.fillRect(0, 0, width, height);
                
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }
            animate();
        }

        // --- Navbar Scroll ---
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            // The glass-panel class is set on load, only adjust opacity on scroll for visual distinction
            if (window.scrollY > 50) nav.style.backgroundColor = 'var(--glass-bg)';
            else nav.style.backgroundColor = 'rgba(0,0,0,0)'; // Transparent when at top
        });
    </script>
</body>
</html>
